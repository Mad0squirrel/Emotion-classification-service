# Model Service Api

Пример сервиса ML, веб-приложение, предоставляющее API для взаимодействия с моделью машинного обучения. Оно позволяет пользователям отправлять запросы с прогнозируемыми данными и получать результаты обратно.


**Startup logic:**

При запуске приложение инициализирует FastAPI, который обрабатывает HTTP-запросы. Приложение также подключается к модели машинного обучения и загружает ее в память для использования при составлении прогнозов.

```
.
├── .docker
│   └── Dockerfile              # Файл Dockerfile для создания образа контейнера
├── pyproject.toml              # Файл с зависимостями и настройками проекта
├── .env                        # Файл с переменными окружения
├── docker-compose.yml          # Файл для управления контейнерами Docker
└── src
    ├── app.py                  # Основной файл приложения, инициализация FastAPI
    ├── api                     # Пакет с API роутами
    │   ├── __init__.py         # Инициализация пакета
    │   ├── routes              # Пакет с маршрутами API
    │   │   ├── __init__.py     # Инициализация пакета маршрутов
    │   │   ├── healthcheck.py  # Роут для проверки состояния сервиса
    │   │   ├── predict.py      # Роут для предсказаний модели
    │   │   └── router.py       # Основной маршрутизатор
    ├── schemas                  # Пакет с моделями данных
    │   ├── __init__.py         # Инициализация пакета
    │   ├── healthcheck.py      # Модель для ответов состояния сервиса
    │   └── requests.py         # Модель для входных запросов к API
    └── services                # Пакет с бизнес-логикой
        ├── __init__.py         # Инициализация пакета
        ├── model.py            # Логика работы с моделью машинного обучения
        └── utils.py            # Вспомогательные утилиты
```

## Getting started

```
docker-compose up --build
```
web-server on
```
http://0.0.0.0:7007
```
swagger ui on
```
http://0.0.0.0:7007/docs
```
For test
```
curl -X 'POST' \
  'http://0.0.0.0:7007/api/predict/' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
  "text": "Привет, как дела? Что нового?"
}'
```